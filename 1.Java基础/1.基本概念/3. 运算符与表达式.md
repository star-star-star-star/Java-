# 表达式

表达式是Java程序更高一级的结构。解释器会求出表达式的值。最简单的表达式是基本表达式。使用运算符可以把基本表达式连在一起组成复杂的表达式，运算符不仅可以连接表达式，也可以在任意复杂度的表达式中使用。

# 运算符

运算符有两个重要的属性：优先级和结合性。优先级指定运算符执行的顺序，优先级高的运算符在优先级低的运算符之前运算，可以使用括号改变运算符的默认优先级。结合性定义如何计算有歧义的表达式，如果表达式中有多个优先级相同的运算符，则结合性尤为重要。

Java支持的运算符：

|                            运算符                            | 优先级 | 结合性 |   操作数类型   |    执行的运算     |
| :-------------------------------------------------------: | :-: | :-: | :-------: | :----------: |
|                            `.`                            | 16  |  L  |   对象，成员   |    访问对象成员    |
|                           `[ ]`                           |     |     |  数组，int   |   获取数组中的元素   |
|                         `(args)`                          |     |     |  方法，参数列表  |     调用方法     |
|                         `++` `--`                         |     |     |    变量     |   后递增，后递减    |
|                         `++` `--`                         | 15  |  R  |    变量     |   前递增，前递减    |
|                          `+` `-`                          |     |     |    数字     |    正号，负号     |
|                            `~`                            |     |     |    整数     | 按位补码（每一位都取反） |
|                            `!`                            |     |     |    布尔值    |     逻辑求反     |
|                           `new`                           | 14  |  R  |  类，参数列表   |     创建对象     |
|                         `(type)`                          |     |     |  类型，任何类型  |   校正（类型转换）   |
|                        `*` `/` `%`                        | 13  |  L  |   数字，数字   |  乘法，除法，取余数   |
|                          `+` `-`                          | 12  |  L  |   数字，数字   |    加法，减法     |
|                            `+`                            |     |     | 字符串，任何类型  |    字符串连接     |
|                           `<<`                            | 11  |  L  |   整数，整数   |      左移      |
|                           `>>`                            |     |     |   整数，整数   |   右移，高位补符号   |
|                           `>>>`                           |     |     |   整数，整数   |   右移，高位补零    |
|                         `<` `<=`                          | 10  |  L  |   数字，数字   |   小于，小于或等于   |
|                         `>` `>=`                          |     |     |   数字，数字   |   大于，大于或等于   |
|                       `instanceof`                        |     |     |  引用类型，类型  |     类型比较     |
|                           `==`                            |  9  |  L  | 基本类型，基本类型 |   等于（值相同）    |
|                           `!=`                            |     |     | 基本类型，基本类型 |   不等于（值不同）   |
|                           `==`                            |     |     | 引用类型，引用类型 | 等于（指向同一个对象）  |
|                           `!=`                            |     |     | 引用类型，引用类型 | 不等于（指向不同的对象） |
|                            `&`                            |  8  |  L  |   整数，整数   |     按位与      |
|                            `&`                            |     |     |  布尔值，布尔值  |     逻辑与      |
|                            `^`                            |  7  |  L  |   整数，整数   |     按位异或     |
|                            `^`                            |     |     |  布尔值，布尔值  |     逻辑异或     |
|                            \|                             |  6  |  L  |   整数，整数   |     按位或      |
|                            \|                             |     |     |  布尔值，布尔值  |     逻辑或      |
|                           `&&`                            |  5  |  L  |  布尔值，布尔值  |     条件与      |
|                           \|\|                            |  4  |  L  |  布尔值，布尔值  |     条件或      |
|                          `? : `                           |  3  |  R  | 布尔值，任何类型  |  条件（三元）运算符   |
|                            `=`                            |  2  |  R  |  变量，任何类型  |      赋值      |
| `*=` `/=` `%=` `+=` `-=` `<<=` `>>=` `>>>=` `&=` `^=` \|= |     |     |  变量，任何类型  |    计算后赋值     |
|                           `->`                            |  1  |  R  | 参数列表，方法体  |  lambda表达式   |

对于算术运算符、递增和递减、位运算符和移位运算符来说，如果其中至少有一个操作数是double类型，返回值就是double类型；如果其中至少有一个操作数是float类型，返回值就是float类型；如果其中至少有一个操作数是long类型，返回值就是long类型；除此之外都返回int类型的值。

对于比较、相等性和逻辑运算符始终返回布尔值。

各种赋值运算符都返回赋予的值，类型和表达式左边的变量类型兼容。

条件运算符返回第二或第三个操作数（二者的类型必须相同）。
