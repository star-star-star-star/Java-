# 字段和方法的概念

类可以看作是由一些数据（也叫做状态）和操作这些状态的代码组成。数据存储在字段中，操作数据的代码则组织在方法中。

字段和方法有两种不同的类型：关联在类自身上的类成员（也叫做静态成员），关联在类的单个实例（即对象）身上的实例成员。因此，成员可以分为四类：
1. 类字段
2. 类方法
3. 实例字段
4. 实例方法

# 声明一个字段

声明字段的句法和声明局部变量的句法很像，不过声明字段时还可以使用修饰符。最简单的字段声明包含字段类型和字段名。类型前面可以放零个或多个修饰符关键字或注解，名称后面可以跟着一个等号和初始化表达式，提供字段的初始值。如果两个或多个字段的类型和修饰符都相同，那么可以把一些用逗号分隔的字段名和初始化表达式放在类型后面。

字段的修饰符由零个或多个下述关键字组成：
+ public、protected、private：这些访问控制修饰符指明字段是否能在定义它的类之外使用，以及能在何处使用。
+ static：如果使用，这个修饰符指明字段关联在它的类自身上，而不是类的实例身上。
+ final：这个修饰符指明，字段一旦初始化，其值就不能改变。如果字段同时使用 static 和 final 修饰，那么这个字段就是编译时常量，javac会将其内联化。final修饰的字段也可以用来创建实例不可变的类。
+ transient：这个修饰符指明字段不是对象持久状态的一部分，无需根对象的其他内容一起序列化。
+ volatile：这个修饰符指明字段有额外的语义，可以被两个或多个线程同时使用。volatile修饰符的意思是：字段的值必须始终从主存储器中读取和释放，不能被线程缓存（在寄存器或CPU缓存中）。

# 类字段

类字段关联在定义它的类身上，而不是类的实例身上。

static修饰符表明这个字段是类字段，因为使用了static修饰符，所以类字段有时也叫静态字段。

需要注意的是，公开的静态字段要尽量声明为final，因为多个线程都能修改字段的值，会导致极难调试的行为。公开的静态字段其实就是全局变量。不过，类字段的名称会被定义它的类名限定，因此，如果不同的模块定义了同名的全局变量，Java不会出现其他语言遇到的名称冲突问题。

关于静态字段，有个重点要理解，即字段的值只有一个副本。字段关联在类自身上，而不是类的实例身上。

# 类方法

和类字段一样，类方法也使用static修饰符声明，类方法也关联在类身上，而不是对象身上。在类的外部调用类方法时，既要指定类名也要指定方法名。

如果想在定义类方法的类中调用类方法，则不用指定类名。还可以使用静态成员导入声明，减少输入的代码量。

类方法不能使用任何实例字段或实例方法，因为类方法不关联在类的实例身上。（也可以这样理解：在任何实例中，总有一个this引用指向当前对象，但类方法不关联在具体的实例身上，所有没有this引用，因此不能访问实例字段。）

类似地，类方法是全局方法，或全局函数。

# 实例字段

声明时没有使用static修饰符的字段是实例字段。实例字段关联在类的实例身上。

在类定义内部，实例字段只通过名称引用。在类外部，实例字段的名称前面必须加上包含这个字段的对象的引用。

实例字段是面向对象编程的关键。实例字段保存对象的状态，实例字段的值把两个对象区分开来。

# 实例方法

实例方法处理类的具体实例（对象），只要声明方法时没有使用static关键字，这个方法默认就是实例方法。

若想要在定义实例方法的类之外使用实例方法，必须在方法名前面加上要处理的实例引用。

在实例方法内部，可以自然地访问属于调用这个方法的对象的实例字段。（经常可以把对象理解为包含状态和行文的包）。

实现所有实例方法时都使用了一个隐式参数，方法签名中没有这个参数。这个隐式参数是this，它的值是调用这个方法的对象引用。

# this

方法签名中不显示隐式参数this是因为往往用不到。只要Java方法在类中访问实例字段，都默认访问this参数指向的对象中的字段。实例方法调用同一个类中的其他方法时也是一样，可以理解为“在当前对象上调用实例方法”。

不过，如果向明确表明方法访问的是自己的字段或方法，可以显式使用this关键字。不过，有些情况下必须使用this关键字，就像这样：

```java
private int age;
public void function1(int age){
	this.age = age;
}
```

有些开发者会谨慎选择方法的参数名，避免字段名冲突，因此可以最大限度地减少使用this。

最后，需要注意的是，实例方法可以使用this关键字，但是类方法不能使用，因为类方法不关联在具体的对象上。
